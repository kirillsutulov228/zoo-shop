<div class="mb-8 mt-2 p-2 rounded">
  <h1 class="text-center font-semibold text-xl mt-4 mb-8">Категории товаров</h1>
  <% if (!locals.categories) { %>
    <p>Категорий не найдено</p>
  <% } else { %>
    <div class="flex justify-around flex-wrap">
      <% for (const category of categories) { %>
        <a href="/categories/<%= category.id %>" class="m-4 block max-w-[300px] p-4 bg-white rounded">
          <div class="overflow-hidden">
            <img class="hover:scale-110 transition-all duration-700 aspect-square object-cover block" src="/public/models/<%= category.photo %>" alt="" />
          </div>
          <p class="text-center text-xl mt-8 mb-4"><%= category.name %> </p>
        </a>
      <% } %> 
    </div>
  <% } %>  
</div>

<% if (locals?.user?.role === 'admin') { %> 
  <%- include('../partials/form', {
        title: 'Добавить категорию',
        action: '/categories',
        enctype: 'multipart/form-data',
        inputs: [
          { type: 'text', 'name': 'name', 'label': 'Имя категории' },
          { type: 'file', 'name': 'photo', 'label': 'Фото', accept: 'image/*' }
        ]
    }) %>   
<% } %>
